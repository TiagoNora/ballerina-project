@startuml

left to right direction

[Sandwich] <<microservice>> as sandwich
[Ingredient] <<microservice>> as ingredient
[Review] <<microservice>> as review
[Shop] <<microservice>> as shop
[Order] <<microservice>> as order
[Customer] <<microservice>> as customer


node "RabbitMQ"{
    queue sendSandwich as sendSandwich{ 
    }
    queue sendIngredient as sendIngredient{
    }
    queue sendShop as sendShop{
    }
    queue sendCustomer as sendCustomer{
    }
    queue sendOrder as sendOrder{
    }

}

[Sandwich Database] <<Component>> as sand
[Ingredient Database] <<Component>> as i
[Review Database] <<Component>> as r
[Shop Database] <<Component>> as s
[Order Database] <<Component>> as o
[Customer Database] <<Component>> as c

sandwich <-right-> sand
ingredient <-right-> i
review <-right-> r 
shop <--> s
order <-right-> o 
customer <--> c

sendSandwich <-- sandwich
order <-- sendSandwich
ingredient --> sendIngredient
sendIngredient --> sandwich
sendShop <-- shop 
order <-- sendShop
sendCustomer <-left- customer
order <-- sendCustomer
sendCustomer --> review
order --> sendOrder
sendOrder --> review

@enduml